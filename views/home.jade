extends layout

block content
  h1= title
  #app
    span(v-bind:title='message')
      | Hover your mouse over me for a few seconds
      | to see my dynamically bound title!
      | {{body}}
    input(type="text", v-model="new_mark_body", id="mark_text", placeholder="Post Text")
    button(v-on:click="post_mark", type="button") Post
    input(type="text", v-model="token_input", id="token_input", placeholder="Token")
    button(v-on:click="update_token", type="button") Update
    #feed
      h2= "Feed"
      mark-component(v-for='mark in marks' 
        v-on:like_mark="like_mark" 
        v-bind:content="mark.body" 
        v-bind:author="mark.author" 
        v-bind:id="mark.ethereum_id")


  //-  #demo
  //-    h1 Mark Feed
  //-    template(v-for='branch in branches')
  //-      input(type='radio', :id='branch', :value='branch', name='branch', v-model='currentBranch')
  //-      label(:for='branch') {{ branch }}
  //-    p vuejs/vue@{{ currentBranch }}
  //-    ul
  //-      li(v-for='record in commits')
  //-        a.commit(:href='record.html_url', target='_blank') {{ record.sha.slice(0, 7) }}
  //-        |       - 
  //-        span.message {{ record.commit.message | truncate }}
  //-        br
  //-        |       by 
  //-        span.author
  //-          a(:href='record.author.html_url', target='_blank') {{ record.commit.author.name }}
  //-        |       at 
  //-        span.date {{ record.commit.author.date | formatDate }}
  a(href="/login") Login
  br
  a(href="/signup") Signup
  br
  a(href="/error") Error